{"version":3,"file":"component---src-pages-contact-tsx-0aef086db93302dfa6da.js","mappings":"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","sources":["webpack://personal-site/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://personal-site/./src/utilities/url-encode.ts","webpack://personal-site/./src/pages/contact.tsx"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export const urlEncode = (obj: Record<string, unknown>) => {\n  return Object.keys(obj)\n    .filter((key) => obj[key])\n    .map((key) => `${key}=${obj[key]}`)\n    .join('&');\n};\n","import { Button, Input, Page, TextArea } from 'components/common';\nimport { Link, PageProps } from 'gatsby';\nimport { ChangeEvent, FormEvent, Fragment, ReactNode, useState } from 'react';\nimport { textLinkStyle } from 'styles';\nimport tw from 'twin.macro';\nimport { urlEncode } from 'utilities/url-encode';\n\nconst labelStyle = tw`text-gray-600 dark:text-gray-300`;\nconst inputContainerStyle = tw`space-y-1`;\n\ninterface ResultProps {\n  head: string;\n  body: ReactNode;\n}\n\nconst Result = ({ head, body }: ResultProps) => (\n  <main tw=\"text-gray-900 dark:text-white text-center pt-32 space-y-4\">\n    <h1 tw=\"text-3xl font-medium\">{head}</h1>\n    <p>{body}</p>\n  </main>\n);\n\nconst ContactPage = (props: PageProps) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [success, setSuccess] = useState<boolean | null>(null);\n  const [form, setForm] = useState({\n    name: '',\n    email: '',\n    message: '',\n  });\n\n  const onFieldChange = (e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n\n    const response = await fetch(\n      'https://xtuegxcusb.execute-api.us-east-1.amazonaws.com/dev/contact',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n        body: urlEncode(form),\n      },\n    );\n\n    setSuccess(response.status === 200);\n    setIsSubmitting(false);\n  };\n\n  const main = (\n    <main tw=\"container p-4 pt-16 lg:pr-32 lg:pl-32 space-y-4\">\n      <h1 tw=\"text-3xl text-gray-800 dark:text-white\">Get In Touch</h1>\n      <p tw=\"text-gray-900 dark:text-white\">\n        Hey! Something wrong with the website? Are there missing/broken notes? Just want to get in\n        touch? Use this form to leave a message here, I&#39;ll try to get back to you as soon as\n        possible.\n      </p>\n      <form tw=\"space-y-6\" onSubmit={handleSubmit}>\n        <div css={inputContainerStyle}>\n          <label css={labelStyle}>Name</label>\n          <Input\n            name=\"name\"\n            onChange={onFieldChange}\n            placeholder=\"Something you like to be called by\"\n            required\n            type=\"text\"\n          />\n        </div>\n        <div css={inputContainerStyle}>\n          <label css={labelStyle}>Email</label>\n          <Input\n            name=\"email\"\n            onChange={onFieldChange}\n            placeholder=\"An email you'd like me to send my reply to\"\n            required\n            type=\"email\"\n          />\n        </div>\n        <div css={inputContainerStyle}>\n          <label css={labelStyle}>Message</label>\n          <TextArea\n            name=\"message\"\n            onChange={onFieldChange}\n            placeholder=\"Something you'd like to say\"\n            required\n            tw=\"h-32\"\n          />\n        </div>\n        <Button tw=\"w-full\" disabled={isSubmitting} type=\"submit\">\n          Send\n        </Button>\n      </form>\n    </main>\n  );\n\n  return (\n    <Page\n      links={[\n        { title: 'Home', pathname: '/' },\n        { title: 'Contact', pathname: '/contact' },\n        { title: 'Picks', pathname: 'https://picks.electriapp.com/' },\n        { title: 'Notes', pathname: '/notes' },\n      ]}\n      keywords={['contact', 'email']}\n      title=\"Contact\"\n      {...props}\n    >\n      {success === true && (\n        <Result\n          head=\"Thank you\"\n          body={\n            <Fragment>\n              Your message has been sent. Click{' '}\n              {\n                <Link css={textLinkStyle} to=\"/\">\n                  here\n                </Link>\n              }{' '}\n              to go back to the home page.\n            </Fragment>\n          }\n        />\n      )}\n      {success === false && (\n        <Result\n          head=\"Uh oh...\"\n          body={\n            <Fragment>\n              Your message could not be sent. Click{' '}\n              <Link css={textLinkStyle} to=\"/\">\n                here\n              </Link>{' '}\n              to go back to the main page.\n            </Fragment>\n          }\n        />\n      )}\n      {success === null && main}\n    </Page>\n  );\n};\n\nexport default ContactPage;\n"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","urlEncode","obj","Object","keys","filter","map","join","labelStyle","inputContainerStyle","Result","head","body","props","useState","isSubmitting","setIsSubmitting","success","setSuccess","name","email","message","form","setForm","onFieldChange","e","target","handleSubmit","fn","preventDefault","fetch","method","headers","response","status","self","this","args","arguments","apply","err","undefined","main","onSubmit","css","onChange","placeholder","required","type","disabled","links","title","pathname","keywords","Fragment","Link","textLinkStyle","to"],"sourceRoot":""}